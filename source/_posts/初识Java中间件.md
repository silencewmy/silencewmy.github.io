---
title: Java中间件初识
date: 2019-03-10 10:42:42
tags:  中间件
categories: 技术
---


什么是Java中间件，构造中间件需要哪些Java基础知识


<!--more-->

**java中间件被比喻为“软件胶水”为软件应用提供服务；起到了应用和应用之间，应用和服务之间的桥梁**

####特定的中间件是解决特定问题的组件，如下就是三个领域的中间件####

- **远程过程调用和对象访问中间件：**解决了分布式环境下应用的互相访问问题。
- **消息中间件：**解决应用之间的消息的传递、解耦、异步的问题
- **数据访问中间件：**应用访问数据库的共性问题（就是相同的功能步骤抓出来单独作为服务提供者）

**消息中间件
在分布式系统中完成消息收发的基础软件
使用消息中间件有两个好处 ** 

- 异步：消息传递给消息接收者
- 解耦：两个应用间不直接联系


####如何来构造Java中间件-构造Java中间件的基础知识####

- **JVM**
    + 垃圾回收：JVM通过内存回收机制来自动完成回收不需要动手编写，设置不同的垃圾回收方式和参数会影响垃圾回收的效果影响系统稳定性和单机的支撑能力。
    + 内存布局以及回收方式：
    + 
JVM内存堆布局 | GC方式
:-----------:|:---:
新生代     |   串行GC Serial Copying
            |   并行GC ParNew
            |并行回收 Parallel Scavenge
年老代     |   串行GC-Serial MSC
            |并行GC Paraller MCS
            |并行 CompactingGC - Parallel Compacting
            |并发GC-CMS

- **Java并发编程的类**
    + 线程池：多核时代的面向多核编程，线程池可以哦降低创建线程的开销，对线程进行回收而非销毁。**每个线程都是消耗内存的**
    + Synchronized：重量级的锁，可以声明方法或者代码块。
    + ReetrantLock：需要显式的用unlock来释放锁
        * 具有try lock方法，当锁被其他持有时返回false，如果并没有被持有锁则会获得该锁，返回true。
        * 可以设定为是否为公平锁
        * ReentrantReadWriteLock：读写锁，读多写少。
    + Volatile：禁止指令重排序，保证变量的可见性。
    + Atomics类：提供一些相对的原子操作。
    + CountDownLatch：当多个线程都到达了预期状态时触发相应事件。
    + CyclicBarrier：循环屏障，可以协同多个线程，让多个线程在此屏障前等待，知道所有线程都到达屏障后再一起继续执行后续动作。
    + Semaphone：用于管理的信号量，来控制并发的数量。执行前获取信号和执行后归还信号量来控制并发的数量。
    + Exchanger：类似于屏障，只有两个线程交换数据后才会继续执行后续的代码。
    + Future：实现方式为内部开启一个线程来等待接收远程的数据，使用的线程池中的线程。
    + 并发容器：线程安全容器的一种，强调的时容器的并发性（加锁互斥：线程安全却降低了并发性）。并发容器的思路为：尽量不加锁。
    + 动态代理
    + 反射

**网站严谨过程中，架构的升级，应用拆分，服务拆分，数据拆分和应用解耦需要Java中间件来完成。  
服务框架：对应用拆分，完成服务化。  
数据层：完成数据的拆分和数据的管理、扩容、和迁移等工作。  
消息中间件：完成应用的解耦，提供分布式环境下完成事务的思路。**
